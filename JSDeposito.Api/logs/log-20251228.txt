2025-12-28 12:49:49.741 -03:00 [INF] Listando produtos ativos
2025-12-28 13:00:09.403 -03:00 [INF] Listando produtos ativos
2025-12-28 13:12:27.926 -03:00 [INF] Listando produtos ativos
2025-12-28 13:14:23.489 -03:00 [INF] Listando produtos ativos
2025-12-28 13:15:49.063 -03:00 [INF] Listando produtos ativos
2025-12-28 13:18:16.452 -03:00 [INF] Listando produtos ativos
2025-12-28 13:21:34.339 -03:00 [INF] Listando produtos ativos
2025-12-28 13:21:38.215 -03:00 [INF] Listando produtos ativos
2025-12-28 13:22:14.393 -03:00 [INF] Listando produtos ativos
2025-12-28 13:22:53.166 -03:00 [INF] Listando produtos ativos
2025-12-28 13:29:22.152 -03:00 [INF] Listando produtos ativos
2025-12-28 13:30:02.486 -03:00 [INF] Listando produtos ativos
2025-12-28 14:02:17.798 -03:00 [INF] Listando produtos ativos
2025-12-28 14:02:19.292 -03:00 [INF] Listando produtos ativos
2025-12-28 14:02:31.130 -03:00 [INF] Criando pedido anônimo
2025-12-28 14:02:31.686 -03:00 [INF] Pedido anônimo criado | PedidoId: 7
2025-12-28 14:02:31.807 -03:00 [INF] Adicionando item | PedidoId: 7 | ProdutoId: 1
2025-12-28 14:02:32.156 -03:00 [INF] Item adicionado | PedidoId: 7 | ProdutoId: 1
2025-12-28 14:15:18.401 -03:00 [INF] Listando produtos ativos
2025-12-28 14:15:19.415 -03:00 [INF] Listando produtos ativos
2025-12-28 14:15:36.828 -03:00 [INF] Criando pedido anônimo
2025-12-28 14:15:37.090 -03:00 [INF] Pedido anônimo criado | PedidoId: 8
2025-12-28 14:15:37.116 -03:00 [INF] Adicionando item | PedidoId: 8 | ProdutoId: 1
2025-12-28 14:15:37.405 -03:00 [INF] Item adicionado | PedidoId: 8 | ProdutoId: 1
2025-12-28 14:15:52.573 -03:00 [INF] Adicionando item | PedidoId: 8 | ProdutoId: 2
2025-12-28 14:15:52.657 -03:00 [INF] Item adicionado | PedidoId: 8 | ProdutoId: 2
2025-12-28 14:16:10.357 -03:00 [INF] Adicionando item | PedidoId: 8 | ProdutoId: 1
2025-12-28 14:16:10.448 -03:00 [INF] Item adicionado | PedidoId: 8 | ProdutoId: 1
2025-12-28 14:23:04.042 -03:00 [INF] Listando produtos ativos
2025-12-28 14:23:04.857 -03:00 [INF] Listando produtos ativos
2025-12-28 14:23:25.028 -03:00 [INF] Criando pedido anônimo
2025-12-28 14:23:25.460 -03:00 [INF] Pedido anônimo criado | PedidoId: 9
2025-12-28 14:23:25.617 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:23:25.658 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:23:25.841 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:23:28.007 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 2
2025-12-28 14:23:28.175 -03:00 [INF] Item adicionado | PedidoId: 9 | ProdutoId: 2
2025-12-28 14:23:41.035 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:23:41.045 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:23:41.069 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:23:49.541 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 2
2025-12-28 14:23:49.778 -03:00 [INF] Item adicionado | PedidoId: 9 | ProdutoId: 2
2025-12-28 14:24:01.709 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:24:01.713 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:24:01.730 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:24:32.352 -03:00 [INF] Removendo produto 2 do pedido 9
2025-12-28 14:24:32.474 -03:00 [INF] Produto 2 removido com sucesso do pedido 9
2025-12-28 14:24:43.244 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:24:43.323 -03:00 [INF] Item adicionado | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:24:51.366 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 2
2025-12-28 14:24:51.472 -03:00 [INF] Item adicionado | PedidoId: 9 | ProdutoId: 2
2025-12-28 14:24:56.148 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:24:56.153 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:24:56.163 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:25:02.868 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:25:02.874 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:25:02.884 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:25:08.901 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:25:08.904 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:25:08.916 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:25:20.084 -03:00 [INF] Removendo produto 2 do pedido 9
2025-12-28 14:25:20.164 -03:00 [INF] Produto 2 removido com sucesso do pedido 9
2025-12-28 14:25:21.109 -03:00 [INF] Removendo produto 1 do pedido 9
2025-12-28 14:25:21.189 -03:00 [INF] Produto 1 removido com sucesso do pedido 9
2025-12-28 14:25:24.734 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:25:24.738 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:25:24.760 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/9/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:25:34.813 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:25:34.971 -03:00 [INF] Item adicionado | PedidoId: 9 | ProdutoId: 1
2025-12-28 14:26:08.707 -03:00 [INF] Adicionando item | PedidoId: 9 | ProdutoId: 2
2025-12-28 14:26:08.786 -03:00 [INF] Item adicionado | PedidoId: 9 | ProdutoId: 2
2025-12-28 14:31:37.173 -03:00 [INF] Listando produtos ativos
2025-12-28 14:31:38.236 -03:00 [INF] Listando produtos ativos
2025-12-28 14:31:47.845 -03:00 [INF] Criando pedido anônimo
2025-12-28 14:31:48.120 -03:00 [INF] Pedido anônimo criado | PedidoId: 10
2025-12-28 14:31:48.277 -03:00 [INF] Adicionando item | PedidoId: 10 | ProdutoId: 1
2025-12-28 14:31:48.293 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/10/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:31:48.311 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/10/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:32:01.760 -03:00 [INF] Adicionando item | PedidoId: 10 | ProdutoId: 1
2025-12-28 14:32:01.766 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/10/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:32:01.778 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/10/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:32:10.301 -03:00 [INF] Adicionando item | PedidoId: 10 | ProdutoId: 1
2025-12-28 14:32:10.308 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/10/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:32:10.320 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/10/itens | Method: POST
System.Exception: Estoque insuficiente
   at JSDeposito.Core.Entities.Produto.SaidaEstoque(Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Produto.cs:line 63
   at JSDeposito.Core.Entities.Pedido.AdicionarItem(Produto produto, Int32 quantidade) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Entities\Pedido.cs:line 39
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 118
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 57
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:33:53.219 -03:00 [INF] Tentativa de login | Email: admin@jsdeposito.com
2025-12-28 14:33:53.595 -03:00 [INF] Login realizado com sucesso | UsuarioId: 1
2025-12-28 14:33:53.805 -03:00 [INF] Tokens gerados | UsuarioId: 1
2025-12-28 14:34:30.598 -03:00 [INF] Atualizando produto | ProdutoId: 1
2025-12-28 14:34:30.670 -03:00 [INF] Produto atualizado com sucesso | ProdutoId: 1
2025-12-28 14:34:41.640 -03:00 [INF] Adicionando item | PedidoId: 10 | ProdutoId: 1
2025-12-28 14:34:41.767 -03:00 [INF] Item adicionado | PedidoId: 10 | ProdutoId: 1
2025-12-28 14:55:26.353 -03:00 [INF] Listando produtos ativos
2025-12-28 14:55:27.306 -03:00 [INF] Listando produtos ativos
2025-12-28 14:55:47.285 -03:00 [INF] Criando pedido anônimo
2025-12-28 14:55:47.568 -03:00 [INF] Pedido anônimo criado | PedidoId: 11
2025-12-28 14:55:47.726 -03:00 [INF] Adicionando item | PedidoId: 11 | ProdutoId: 1
2025-12-28 14:55:47.851 -03:00 [INF] Item adicionado | PedidoId: 11 | ProdutoId: 1
2025-12-28 14:56:04.665 -03:00 [INF] Adicionando item | PedidoId: 11 | ProdutoId: 2
2025-12-28 14:56:04.672 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/11/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 70
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:56:04.708 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/11/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 70
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:56:14.767 -03:00 [INF] Adicionando item | PedidoId: 11 | ProdutoId: 2
2025-12-28 14:56:14.835 -03:00 [INF] Item adicionado | PedidoId: 11 | ProdutoId: 2
2025-12-28 14:56:21.894 -03:00 [INF] Adicionando item | PedidoId: 11 | ProdutoId: 2
2025-12-28 14:56:21.899 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/11/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 0
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 14:56:21.907 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/11/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 0
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 15:08:42.687 -03:00 [INF] Listando produtos ativos
2025-12-28 15:08:43.649 -03:00 [INF] Listando produtos ativos
2025-12-28 15:08:58.744 -03:00 [INF] Criando pedido anônimo
2025-12-28 15:08:59.013 -03:00 [INF] Pedido anônimo criado | PedidoId: 12
2025-12-28 15:08:59.172 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:08:59.338 -03:00 [INF] Item adicionado | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:09.410 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 2
2025-12-28 15:09:09.418 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/12/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 0
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 15:09:09.454 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/12/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 0
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 15:09:25.828 -03:00 [INF] Removendo produto 1 do pedido 12
2025-12-28 15:09:25.898 -03:00 [INF] Produto 1 removido com sucesso do pedido 12
2025-12-28 15:09:25.904 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:26.015 -03:00 [INF] Item adicionado | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:28.324 -03:00 [INF] Removendo produto 1 do pedido 12
2025-12-28 15:09:28.574 -03:00 [INF] Produto 1 removido com sucesso do pedido 12
2025-12-28 15:09:28.583 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:28.795 -03:00 [INF] Item adicionado | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:30.190 -03:00 [INF] Removendo produto 1 do pedido 12
2025-12-28 15:09:30.473 -03:00 [INF] Produto 1 removido com sucesso do pedido 12
2025-12-28 15:09:30.485 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:30.739 -03:00 [INF] Item adicionado | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:31.939 -03:00 [INF] Removendo produto 1 do pedido 12
2025-12-28 15:09:32.115 -03:00 [INF] Produto 1 removido com sucesso do pedido 12
2025-12-28 15:09:32.124 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:32.398 -03:00 [INF] Item adicionado | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:33.391 -03:00 [INF] Removendo produto 1 do pedido 12
2025-12-28 15:09:33.607 -03:00 [INF] Produto 1 removido com sucesso do pedido 12
2025-12-28 15:09:33.620 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:33.815 -03:00 [INF] Item adicionado | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:34.999 -03:00 [INF] Removendo produto 1 do pedido 12
2025-12-28 15:09:35.289 -03:00 [INF] Produto 1 removido com sucesso do pedido 12
2025-12-28 15:09:35.296 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:35.456 -03:00 [INF] Item adicionado | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:36.311 -03:00 [INF] Removendo produto 1 do pedido 12
2025-12-28 15:09:36.505 -03:00 [INF] Produto 1 removido com sucesso do pedido 12
2025-12-28 15:09:36.511 -03:00 [INF] Adicionando item | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:09:36.705 -03:00 [INF] Item adicionado | PedidoId: 12 | ProdutoId: 1
2025-12-28 15:16:26.968 -03:00 [INF] Listando produtos ativos
2025-12-28 15:16:27.878 -03:00 [INF] Listando produtos ativos
2025-12-28 15:16:39.640 -03:00 [INF] Criando pedido anônimo
2025-12-28 15:16:40.067 -03:00 [INF] Pedido anônimo criado | PedidoId: 13
2025-12-28 15:16:40.228 -03:00 [INF] Adicionando item | PedidoId: 13 | ProdutoId: 1
2025-12-28 15:16:40.349 -03:00 [INF] Item adicionado | PedidoId: 13 | ProdutoId: 1
2025-12-28 15:16:41.594 -03:00 [INF] Adicionando item | PedidoId: 13 | ProdutoId: 2
2025-12-28 15:16:41.601 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/13/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 0
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 15:16:41.617 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/13/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 0
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 15:17:27.893 -03:00 [INF] Listando produtos ativos
2025-12-28 15:17:28.550 -03:00 [INF] Listando produtos ativos
2025-12-28 15:17:50.753 -03:00 [INF] Listando produtos ativos
2025-12-28 15:17:51.397 -03:00 [INF] Listando produtos ativos
2025-12-28 15:17:55.095 -03:00 [INF] Criando pedido anônimo
2025-12-28 15:17:55.773 -03:00 [INF] Pedido anônimo criado | PedidoId: 14
2025-12-28 15:17:55.929 -03:00 [INF] Adicionando item | PedidoId: 14 | ProdutoId: 1
2025-12-28 15:17:56.105 -03:00 [INF] Item adicionado | PedidoId: 14 | ProdutoId: 1
2025-12-28 15:18:07.846 -03:00 [INF] Removendo produto 1 do pedido 14
2025-12-28 15:18:08.006 -03:00 [INF] Produto 1 removido com sucesso do pedido 14
2025-12-28 15:18:21.929 -03:00 [INF] Adicionando item | PedidoId: 14 | ProdutoId: 1
2025-12-28 15:18:22.005 -03:00 [INF] Item adicionado | PedidoId: 14 | ProdutoId: 1
2025-12-28 15:26:34.774 -03:00 [INF] Listando produtos ativos
2025-12-28 15:26:35.584 -03:00 [INF] Listando produtos ativos
2025-12-28 15:26:44.871 -03:00 [INF] Criando pedido anônimo
2025-12-28 15:26:45.252 -03:00 [INF] Pedido anônimo criado | PedidoId: 15
2025-12-28 15:26:45.415 -03:00 [INF] Adicionando item | PedidoId: 15 | ProdutoId: 1
2025-12-28 15:26:45.569 -03:00 [INF] Item adicionado | PedidoId: 15 | ProdutoId: 1
2025-12-28 15:26:55.673 -03:00 [INF] Adicionando item | PedidoId: 15 | ProdutoId: 2
2025-12-28 15:26:55.682 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/15/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 0
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 15:26:55.699 -03:00 [ERR] Erro não tratado | Path: /api/pedidos/15/itens | Method: POST
JSDeposito.Core.Exceptions.BusinessException: Estoque atual: 0
   at JSDeposito.Core.Services.PedidoService.AdicionarItem(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Core\Services\PedidoService.cs:line 120
   at JSDeposito.Api.Controllers.PedidoController.Adicionar(Int32 pedidoId, AdicionarItemPedidoDto dto) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Controllers\PedidoController.cs:line 60
   at lambda_method193(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at JSDeposito.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Desenvolvedor\JSDeposito\JSDeposito.Api\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-12-28 15:29:27.761 -03:00 [INF] Listando produtos ativos
2025-12-28 15:29:28.486 -03:00 [INF] Listando produtos ativos
2025-12-28 15:29:32.481 -03:00 [INF] Criando pedido anônimo
2025-12-28 15:29:32.731 -03:00 [INF] Pedido anônimo criado | PedidoId: 16
2025-12-28 15:29:32.886 -03:00 [INF] Adicionando item | PedidoId: 16 | ProdutoId: 1
2025-12-28 15:29:33.004 -03:00 [INF] Item adicionado | PedidoId: 16 | ProdutoId: 1
